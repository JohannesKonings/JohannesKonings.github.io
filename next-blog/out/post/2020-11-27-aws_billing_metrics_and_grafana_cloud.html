<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><link rel="preload" href="/next-blog/out/_next/static/css/66c48826d6382dcb.css" as="style" crossorigin=""/><link rel="stylesheet" href="/next-blog/out/_next/static/css/66c48826d6382dcb.css" crossorigin="" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" crossorigin="" nomodule="" src="/next-blog/out/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/next-blog/out/_next/static/chunks/webpack-7af3f00e54ee1119.js" defer="" crossorigin=""></script><script src="/next-blog/out/_next/static/chunks/framework-5429a50ba5373c56.js" defer="" crossorigin=""></script><script src="/next-blog/out/_next/static/chunks/main-def68a4901fa3cc6.js" defer="" crossorigin=""></script><script src="/next-blog/out/_next/static/chunks/pages/_app-a5ae041df49b62a0.js" defer="" crossorigin=""></script><script src="/next-blog/out/_next/static/chunks/56-99b6b0e6945aba0d.js" defer="" crossorigin=""></script><script src="/next-blog/out/_next/static/chunks/pages/post/%5Bslug%5D-c07d00169c09ab18.js" defer="" crossorigin=""></script><script src="/next-blog/out/_next/static/2zVoAH4240IV3odeQrveE/_buildManifest.js" defer="" crossorigin=""></script><script src="/next-blog/out/_next/static/2zVoAH4240IV3odeQrveE/_ssgManifest.js" defer="" crossorigin=""></script></head><body><div id="__next"><div class="flex flex-col min-h-screen"><header class="bg-fuchsia-100 mb-8 py-4"><div class="container mx-auto flex justify-center"><a href="/next-blog/out">üè°</a><span class="mx-auto">Welcome to my blog</span> </div></header><main class="container mx-auto flex-1"><div><div class="prose mx-auto"><h1>How to display AWS billing metrics in Grafana Cloud</h1><div><h1>Why Grafana for AWS billing metrics?</h1>
<p><a href="https://grafana.com/">Grafana</a> is well known for observability dashboards, which can be composed of many data sources.</p>
<p>With AWS CloudWatch metrics, it is possible to do more or less the same, but it is designed more for one account and more for the AWS metrics.</p>
<p>In Grafana, it's easy to use different data sources so that you can have your billing metrics on the same dashboard as your other technical and business metrics from elsewhere.</p>
<h1>Configuration of the Grafana Cloud instance</h1>
<p>Here <a href="https://grafana.com/products/cloud/">https://grafana.com/products/cloud/</a> you can sign up for a Grafana Cloud account.</p>
<p>It's free for this use case (and many more :))</p>
<p>![Grafana Cloud pricing]({{ site.baseurl }}/img/2020-11-27-aws_billing_metrics_and_grafana_cloud/grafana_cloud_pricing.png)</p>
<p>After login, create a stack with the starter plan.</p>
<p>![Grafana Cloud add stack]({{ site.baseurl }}/img/2020-11-27-aws_billing_metrics_and_grafana_cloud/grafana_cloud_add_stack.png)</p>
<p>![Grafana Cloud starter plan]({{ site.baseurl }}/img/2020-11-27-aws_billing_metrics_and_grafana_cloud/grafana_cloud_starter_plan.png)</p>
<p>Then log in to your instance.</p>
<p>![Grafana Cloud instance login]({{ site.baseurl }}/img/2020-11-27-aws_billing_metrics_and_grafana_cloud/grafana_cloud_instance_login.png)</p>
<h1>Creation of an IAM user for the CloudWatch data source</h1>
<p>The CloudWatch data source needs an access key and a secret key. Therefore is an IAM user needed. As policy can be this used:</p>
<p><a href="https://grafana.com/docs/grafana/latest/datasources/cloudwatch/#iam-policies">https://grafana.com/docs/grafana/latest/datasources/cloudwatch/#iam-policies</a></p>
<h1>Configuration of the CloudWatch Datasource</h1>
<p>The next step is to add the CloudWatch data source to your Grafana cloud instance.</p>
<p>![Grafana Cloud add datasource]({{ site.baseurl }}/img/2020-11-27-aws_billing_metrics_and_grafana_cloud/grafana_cloud_add_datasource.png)</p>
<p>![Grafana Cloud select cloudwatch datasource]({{ site.baseurl }}/img/2020-11-27-aws_billing_metrics_and_grafana_cloud/grafana_cloud_select_cloudwatch_datasource.png)</p>
<p>As for credentials, use the access key and secret key from the IAM user.</p>
<p>![Grafana Cloud configuration cloudwatch datasource]({{ site.baseurl }}/img/2020-11-27-aws_billing_metrics_and_grafana_cloud/grafana_cloud_configuration_cloudwatch_datasource.png)</p>
<h1>Creation of a dashboard with a graph panel</h1>
<p>Now you can use the data source in the panels of a dashboard.</p>
<p>![Grafana Cloud create dashboard]({{ site.baseurl }}/img/2020-11-27-aws_billing_metrics_and_grafana_cloud/grafana_cloud_create_dashboard.png)</p>
<p>![Grafana Cloud add panel]({{ site.baseurl }}/img/2020-11-27-aws_billing_metrics_and_grafana_cloud/grafana_cloud_add_panel.png)</p>
<p>This is a panel configuration example for the costs of all linked accounts.</p>
<p>![Grafana Cloud accounts panel]({{ site.baseurl }}/img/2020-11-27-aws_billing_metrics_and_grafana_cloud/grafana_cloud_accounts_panel.png)</p>
<p>This should be considered:</p>
<ol>
<li>If the CloudWatch data source is not the default one, switch to the CloudWatch data source.</li>
<li>Billing metrics are all in the region us-east-1</li>
<li>The time frame &quot;this month&quot; seems the right choice for the monthly costs :)</li>
</ol>
<p>And ready to go üéâ</p>
<p>![Grafana Cloud created dashboard]({{ site.baseurl }}/img/2020-11-27-aws_billing_metrics_and_grafana_cloud/grafana_cloud_created_dashboard.png)</p>
<h1>Usage of a prepared dashboard</h1>
<p>Here <a href="https://grafana.com/grafana/dashboards">https://grafana.com/grafana/dashboards</a> is a big list of official and community dashboards you can import to Grafana.</p>
<p>You can import a URL or ID from the list or, e.g., this <a href="https://grafana.com/grafana/dashboards/13446">https://grafana.com/grafana/dashboards/13446</a> Dashboard in that way.</p>
<p>![Grafana Cloud import dashboard]({{ site.baseurl }}/img/2020-11-27-aws_billing_metrics_and_grafana_cloud/grafana_cloud_import_dashboard.png)</p>
<p>The selection of the data source is required.</p>
<p>![Grafana Cloud import dashboard2]({{ site.baseurl }}/img/2020-11-27-aws_billing_metrics_and_grafana_cloud/grafana_cloud_import_dashboard2.png)</p>
<p>And ready to go üéâ</p>
<p>![Grafana Cloud imported dashboard]({{ site.baseurl }}/img/2020-11-27-aws_billing_metrics_and_grafana_cloud/grafana_cloud_imported_dashboard.png)</p>
<h1>more dashboards</h1>
<p>Monitoring Artist has many more cloud watch dashboards: <a href="https://grafana.com/orgs/monitoringartist">https://grafana.com/orgs/monitoringartist</a></p>
</div></div></div></main><footer class="bg-fuchsia-100 mt-8 py-4"><div class="container mx-auto flex justify-center"><a href="/next-blog/out/impressum">Impressum</a></div><div class="container mx-auto flex justify-center">&lt;/&gt; on <a href="https://github.com/JohannesKonings/JohannesKonings.github.io">Github</a> ¬†<i class="fa fa-github-alt"></i></div></footer></div></div><script id="__NEXT_DATA__" type="application/json" crossorigin="">{"props":{"pageProps":{"frontmatter":{"layout":"post","title":"How to display AWS billing metrics in Grafana Cloud","date":"2020-11-27 08:15:18","summary":"Configuration of Grafana Cloud to display AWS billing metrics","categories":"aws","thumbnail":"grafana","tags":["aws","grafana"]},"content":"\n# Why Grafana for AWS billing metrics?\n\n[Grafana](https://grafana.com/) is well known for observability dashboards, which can be composed of many data sources.\n\nWith AWS CloudWatch metrics, it is possible to do more or less the same, but it is designed more for one account and more for the AWS metrics.\n\nIn Grafana, it's easy to use different data sources so that you can have your billing metrics on the same dashboard as your other technical and business metrics from elsewhere.\n\n# Configuration of the Grafana Cloud instance\n\nHere [https://grafana.com/products/cloud/](https://grafana.com/products/cloud/) you can sign up for a Grafana Cloud account.\n\nIt's free for this use case (and many more :))\n\n![Grafana Cloud pricing]({{ site.baseurl }}/img/2020-11-27-aws_billing_metrics_and_grafana_cloud/grafana_cloud_pricing.png)\n\nAfter login, create a stack with the starter plan.\n\n![Grafana Cloud add stack]({{ site.baseurl }}/img/2020-11-27-aws_billing_metrics_and_grafana_cloud/grafana_cloud_add_stack.png)\n\n![Grafana Cloud starter plan]({{ site.baseurl }}/img/2020-11-27-aws_billing_metrics_and_grafana_cloud/grafana_cloud_starter_plan.png)\n\nThen log in to your instance.\n\n![Grafana Cloud instance login]({{ site.baseurl }}/img/2020-11-27-aws_billing_metrics_and_grafana_cloud/grafana_cloud_instance_login.png)\n\n# Creation of an IAM user for the CloudWatch data source\n\nThe CloudWatch data source needs an access key and a secret key. Therefore is an IAM user needed. As policy can be this used: \n\n[https://grafana.com/docs/grafana/latest/datasources/cloudwatch/#iam-policies](https://grafana.com/docs/grafana/latest/datasources/cloudwatch/#iam-policies)\n\n# Configuration of the CloudWatch Datasource\n\nThe next step is to add the CloudWatch data source to your Grafana cloud instance.\n\n![Grafana Cloud add datasource]({{ site.baseurl }}/img/2020-11-27-aws_billing_metrics_and_grafana_cloud/grafana_cloud_add_datasource.png)\n\n![Grafana Cloud select cloudwatch datasource]({{ site.baseurl }}/img/2020-11-27-aws_billing_metrics_and_grafana_cloud/grafana_cloud_select_cloudwatch_datasource.png)\n\nAs for credentials, use the access key and secret key from the IAM user.\n\n![Grafana Cloud configuration cloudwatch datasource]({{ site.baseurl }}/img/2020-11-27-aws_billing_metrics_and_grafana_cloud/grafana_cloud_configuration_cloudwatch_datasource.png)\n\n# Creation of a dashboard with a graph panel\n\nNow you can use the data source in the panels of a dashboard.\n\n![Grafana Cloud create dashboard]({{ site.baseurl }}/img/2020-11-27-aws_billing_metrics_and_grafana_cloud/grafana_cloud_create_dashboard.png)\n\n![Grafana Cloud add panel]({{ site.baseurl }}/img/2020-11-27-aws_billing_metrics_and_grafana_cloud/grafana_cloud_add_panel.png)\n\nThis is a panel configuration example for the costs of all linked accounts.\n\n![Grafana Cloud accounts panel]({{ site.baseurl }}/img/2020-11-27-aws_billing_metrics_and_grafana_cloud/grafana_cloud_accounts_panel.png)\n\nThis should be considered:\n1. If the CloudWatch data source is not the default one, switch to the CloudWatch data source.\n2. Billing metrics are all in the region us-east-1\n3. The time frame \"this month\" seems the right choice for the monthly costs :)\n\nAnd ready to go üéâ\n\n![Grafana Cloud created dashboard]({{ site.baseurl }}/img/2020-11-27-aws_billing_metrics_and_grafana_cloud/grafana_cloud_created_dashboard.png)\n\n# Usage of a prepared dashboard\n\nHere [https://grafana.com/grafana/dashboards](https://grafana.com/grafana/dashboards) is a big list of official and community dashboards you can import to Grafana.\n\nYou can import a URL or ID from the list or, e.g., this [https://grafana.com/grafana/dashboards/13446](https://grafana.com/grafana/dashboards/13446) Dashboard in that way.\n\n![Grafana Cloud import dashboard]({{ site.baseurl }}/img/2020-11-27-aws_billing_metrics_and_grafana_cloud/grafana_cloud_import_dashboard.png)\n\nThe selection of the data source is required.\n\n![Grafana Cloud import dashboard2]({{ site.baseurl }}/img/2020-11-27-aws_billing_metrics_and_grafana_cloud/grafana_cloud_import_dashboard2.png)\n\nAnd ready to go üéâ\n\n![Grafana Cloud imported dashboard]({{ site.baseurl }}/img/2020-11-27-aws_billing_metrics_and_grafana_cloud/grafana_cloud_imported_dashboard.png)\n\n\n# more dashboards\n\nMonitoring Artist has many more cloud watch dashboards: [https://grafana.com/orgs/monitoringartist](https://grafana.com/orgs/monitoringartist)\n\n\n"},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"2020-11-27-aws_billing_metrics_and_grafana_cloud"},"buildId":"2zVoAH4240IV3odeQrveE","assetPrefix":"/next-blog/out","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>