{"pageProps":{"frontmatter":{"layout":"post","title":"User management with the AWS Amplify Admin UI instead as self sign up","date":"2020-12-06 08:15:18","summary":"Description of the change from a self sign up to user management from an admin","categories":"aws","thumbnail":"amplify","tags":["aws","AWS Amplify","AWS Amplify Admin UI"]},"content":"\nIn my web app, I use the authentification [UI Compontents](https://docs.amplify.aws/ui/auth/authenticator/q/framework/react) of Amplify. Without any configuration, this UI component comes with a signup link so that any person who knows the URL can signup for themself. However, this web app is for a certain group of users. That's why I want to create users who are allowed to sign in.\n\nAnd this is now possible in an easy way via the new Amplify Admin UI.\n\n# The Amplify Admin UI\n\nThe Amplify Admin UI has a big set of functions. You can check the [docs](https://docs.amplify.aws/console/adminui/intro) for more details or test it in a [sandbox](https://sandbox.amplifyapp.com/getting-started).\nThis [post](https://dev.to/aws-builders/aws-amplify-admin-ui-45bm) also gives an excellent overview.\n\n# Hide the signup link\n\nAt first, I had to hide the signup link to avoid that everyone can signup.\n\n![signin with signup]({{ site.baseurl }}/img/2020-12-06-amplify_admin_ui_user_management/signin_with_signup.png)\n\nTo hide the signup link is just one line.\n\n```html\n<AmplifyAuthenticator>\n    <AmplifySignIn hideSignUp=\"true\" slot=\"sign-in\" />\n</AmplifyAuthenticator>\n```\nMore options are described in the [docs](https://docs.amplify.aws/ui/auth/authenticator/q/framework/react#sign-in)\n\nThen it looks like that.\n\n![signin without signup]({{ site.baseurl }}/img/2020-12-06-amplify_admin_ui_user_management/signin_without_signup.png)\n\n# Create a new user via Amplify Admin UI\n\nIf a new user is needed, you can create on via the Amplify Admin UI. \nThat you can use the Admin UI, it is just a click in the Amplify [Console](https://console.aws.amazon.com/amplify/home).\n\n![enabled admin ui]({{ site.baseurl }}/img/2020-12-06-amplify_admin_ui_user_management/enabled_admin_ui.png)\n\nIn the Admin UI, it's in the section user management. Click on \"create user\".\n\n![user management create user]({{ site.baseurl }}/img/2020-12-06-amplify_admin_ui_user_management/user_management_create_user.png)\n\nType in the user data. The user will get an email with the username and temporary password.\n\n![user management user data]({{ site.baseurl }}/img/2020-12-06-amplify_admin_ui_user_management/user_management_user_data.png)\n\n# User sign in process\n\nThen the user can log in with his username and temporary password.\n\n![user signin tempory password]({{ site.baseurl }}/img/2020-12-06-amplify_admin_ui_user_management/user_signin_tempory_password.png)\n\nAt the next screen, the user has to create a new password.\n\n![user signin new password]({{ site.baseurl }}/img/2020-12-06-amplify_admin_ui_user_management/user_signin_new_password.png)\n\nTwo screens are left. One for the email verification...\n\n![user signin verify]({{ site.baseurl }}/img/2020-12-06-amplify_admin_ui_user_management/user_signin_verify.png)\n\n...and the last one for the verification code.\n\n![user signin verification code]({{ site.baseurl }}/img/2020-12-06-amplify_admin_ui_user_management/user_signin_verification_code.png)\n\nThe last step is not necessary if the admin marks the email as verified.\n\n![admin verify email]({{ site.baseurl }}/img/2020-12-06-amplify_admin_ui_user_management/admin_verify_email.png)\n\nThat's it ðŸŽ‰\n\n![user after signin]({{ site.baseurl }}/img/2020-12-06-amplify_admin_ui_user_management/user_after_signin.png)\n\n# Invite User to the Admin UI\n\nNow with the Admin UI, it is also possible to invite users as admins. Even without access to the AWS account.\nSee details [here](https://docs.amplify.aws/console/adminui/access-management).\n\n# Code\n\n[https://github.com/JohannesKonings/fff-badminton](https://github.com/JohannesKonings/fff-badminton)\n\n\n"},"__N_SSG":true}