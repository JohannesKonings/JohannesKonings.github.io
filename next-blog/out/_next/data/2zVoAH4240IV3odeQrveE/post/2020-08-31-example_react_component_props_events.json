{"pageProps":{"frontmatter":{"layout":"post","title":"Quick example to pass data to a React component and get the changed value back","published":true,"date":"2020-08-31 08:15:18","summary":"An quick example how to pass data to componenents and get data from components","categories":"react","thumbnail":"react","tags":["react","react components"]},"content":"\n# âš  Disclaimer\n\nThis is a quick example how I pass data to a React component and get the changed data back. If there are better solutions, please let me know.\n\n# Overview\n\nIn different cases it's neccessary to pass data to a component and get the data back. In this quick example there are two child components. One is used to determine the height of increase in the count. The other one is used to increase the count via a button click with the height of increase from the other component.\n\n![result]({{ site.baseurl }}/img/2020-08-31-example_react_component_props_events/components_overview.png)\n\n# Implementation\n\nThe implementation looks as follows:\n\n## App.js\n\nThe `App.js` contains the two child components `CounterSteps.js` and `Button.js`.\nFrom the `CounterSteps.js` the `App.js` get the height of the increase via a event and store it in the `counterSteps` state. The `counterSteps` value will be passed to `Button.js`. After each time the Button was pressed the `App.js` get the value back.\n\n```javascript\nimport React, { useState } from \"react\";\nimport CounterSteps from \"./CounterSteps\";\nimport Button from \"./Button\";\nimport \"./style.css\";\n\nexport default function App() {\n  const [counterSteps, setCounterSteps] = useState(0);\n  const [count, setCount] = useState(0);\n\n  const handleCurrentInput = currentInput => {\n    setCounterSteps(currentInput);\n  };\n\n  const handleCounterIncreased = counterSteps => {\n    const newCount = count + parseInt(counterSteps);\n    setCount(newCount);\n  };\n\n  return (\n    <div>\n      <h1>Hello StackBlitz!</h1>\n      <p>current counterStepsInput: {counterSteps}</p>\n      <p>current count: {count}</p>\n      <CounterSteps onCurrentInput={handleCurrentInput} />\n      <Button\n        counterSteps={counterSteps}\n        onCounterIncreased={handleCounterIncreased}\n      />\n    </div>\n  );\n}\n```\n## CounterSteps.js\n\nIn the `CounterSteps.js` is a input field. Every change of the value will be passed via a event to the parent component.\n\n```javascript\nimport React, { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./style.css\";\n\nexport default function CounterSteps(props) {\n  const [count, setCount] = useState(0);\n  const { onCurrentInput } = props;\n\n  const handleInput = event => {\n    onCurrentInput(event.target.value);\n  };\n\n  return (\n    <div>\n      <p>\n        <input\n          type=\"number\"\n          name=\"counterSteps\"\n          placeholder=\"counterSteps\"\n          onKeyDown={e => /[\\+\\-\\.\\,]$/.test(e.key) && e.preventDefault()}\n          onInput={handleInput}\n        />\n      </p>\n    </div>\n  );\n}\n\nCounterSteps.propTypes = {\n  onCurrentInput: PropTypes.func\n};\n```\n## Button.js\n\nThe `Button.js` receive the height of the inccrease from the parent component. A Button click calls the event and pass the height of increase back. In the `App.js` the total count is calculated.\n\n```javascript\nimport React, { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./style.css\";\n\nexport default function Button(props) {\n  const [counterSteps, setCounterSteps] = useState(0);\n  const { onCounterIncreased } = props;\n\n  useEffect(() => {\n    setCounterSteps(props.counterSteps);\n  }, [props]);\n\n  const increaseCount = () => {\n    onCounterIncreased(counterSteps);\n  };\n\n  return (\n    <div>\n      <button onClick={increaseCount}>increase counter</button>\n    </div>\n  );\n}\n\nButton.propTypes = {\n  onCounterIncreased: PropTypes.func\n};\n```\n\n# Result\n\n![result]({{ site.baseurl }}/img/2020-08-31-example_react_component_props_events/result.gif)\n\n# Coding\n\nSee the Coding on GitHub or StackBlitz:\n\n[GitHub](https://github.com/JohannesKonings/example-react-component-props-events)\n\n[StackBlitz](https://stackblitz.com/edit/example-react-component-props-events)\n\n\n\n\n\n\n\n\n"},"__N_SSG":true}